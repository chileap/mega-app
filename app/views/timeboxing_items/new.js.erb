(function(){

  // Remove any existing calendar form
  if (document.querySelector('#calendar-popover-container')) {
    document.querySelector('#calendar-popover-container').remove();
  }

  // Create a new calendar form
  const calendarForm = "<%= j(render partial: "timeboxing_items/form", layout: "shared/calendars/popover_container", locals: { timeboxing_item: @timeboxing_item, timeboxing: @timeboxing }) %>";

  // Insert the calendar form into the DOM
  document.body.insertAdjacentHTML('beforeend', calendarForm);

})()
